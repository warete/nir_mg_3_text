\chapter{Тестирование разработанной библиотеки и публикация в сервис PyPI}\vspace{-7mm}

\section{Тестирование библиотеки на модели нейросетевой регрессии температур парных молочных желез}
Для тестирования получившегося решения была разработана программа, использующая модель нейросетевой регрессии температур парных молочных желез.

В качестве параметров модели, отображаемых на втором шаге были выбраны следующие:
\begin{itemize}
	\item[-] Процент тестовой выборки;
	\item[-] скорость обучения;
	\item[-] количество эпох.
\end{itemize}


Код получившейся программы находится в приложении \ref{ls:a:02}.


После запуска программы и загрузки файла с обучающей выборкой на втором шаге были отображены все те параметры, которые были указаны при инициализации приложения (рисунок~\ref{fig:prg_test_1}).


\imgh{1}{prg_test_1}{Скриншот программы с параметрами нейросетевой модели}


После нажатия кнопки “Вперед” приложение отработало штатно и были выведены результаты обучения (рисунок~\ref{fig:prg_test_2}).


\imgh{1}{prg_test_2}{Скриншот программы с результатами обучения нейросетевой модели}

Затем был загружен файл с выборкой для обработки данных уже обученной моделью (рисунок~\ref{fig:prg_test_3}).

\imgh{1}{prg_test_3}{Скриншот программы с загрузкой выборки для обработки нейросетевой моделью}

На последнем шаге после обработки данных моделью была выведена ссылка на скачивание файла с результатами обработки (рисунок~\ref{fig:prg_test_4}).

\imgh{1}{prg_test_4}{Скриншот программы с результатами обработки данных нейросетевой моделью}

\section{Настройка автоматической сборки и публикации библиотеки в сервис PyPI}

Чтобы разработанное приложение в формате pip-пакета можно было установить с помощью менеджера пакетов pip и использовать в своих проектах его нужно опубликовать в сервисе PyPI, который является бесплатным хранилищем пакетов. Для этого сначала нужно зарегистрироваться в сервисе, а после этого с помощью библиотеки twine, выполнив команду twine upload dist/*. 


Для упрощения процесса поставки обновлений пакета в PyPI была настроена автоматическая сборка проекта с помощью CI/CD сервиса GitHub Actions. Сервис бесплатно предоставляет 2000 минут в месяц на выполнение сборок. Каждая сборка запускается в Docker-контейнере, что позволяет организовать изолированную среду. Конфигурационный файл сборки хранится в репозитории в формате yml. Сборка запускается, если появляется новый тэг с версией в репозитории. Были определены и описаны в конфигурационном файле следующие шаги сборки:
\begin{itemize}
	\item[-] Установка интерпретатора NodeJS;
	\item[-] Установка интерпретатора Python;
	\item[-] Сборка frontend-части;
	\item[-] Сборка pip-пакета;
	\item[-] Публикация пакета в PyPI;
\end{itemize}